<div class="project-detail-container">
  <div class="container">
    <!-- ローディング表示 -->
    <div class="loading-container" *ngIf="loading">
      <p>読み込み中...</p>
    </div>

    <!-- エラーメッセージ -->
    <div class="error-message" *ngIf="error">
      {{ error }}
    </div>

    <!-- プロジェクト詳細 -->
    <div class="project-content" *ngIf="project && !loading">
      <!-- プロジェクトヘッダー -->
      <div class="project-header">
        <h1>{{ project.title }}</h1>
        <div class="project-actions">
          <button class="edit-btn" (click)="editProject()">
            <i class="fas fa-edit"></i> 編集
          </button>
          <button class="delete-btn" (click)="deleteProject()">
            <i class="fas fa-trash"></i> 削除
          </button>
        </div>
      </div>

      <!-- プロジェクト詳細コンテンツ -->
      <div class="project-detail-box">
        <div class="project-description">
          <h2>説明</h2>
          <p class="description">{{ project.description }}</p>
        </div>

        <div class="project-info">
          <h2>プロジェクト情報</h2>
          <div class="info-grid">
            <div class="info-item">
              <p class="info-label">作成者</p>
              <p class="info-value">{{ creatorName }}</p>
            </div>
            <div class="info-item">
              <p class="info-label">作成日時</p>
              <p class="info-value">{{ project.createdAt | date:'yyyy/MM/dd HH:mm' }}</p>
            </div>
            <div class="info-item">
              <p class="info-label">更新日時</p>
              <p class="info-value">{{ project.updatedAt | date:'yyyy/MM/dd HH:mm' }}</p>
            </div>
            <div class="info-item">
              <p class="info-label">メンバー数</p>
              <p class="info-value">{{ project.members.length || 0 }}人</p>
            </div>
            <div class="info-item">
              <p class="info-label">締め切り日</p>
              <p class="info-value">{{ project.dueDate | date:'yyyy/MM/dd' }}</p>
            </div>
          </div>

          <div class="members">
            <h3>プロジェクトメンバー</h3>
            <div class="member-list">
              <div class="member" *ngFor="let member of projectMembers">
                {{ member.displayName }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 課題一覧セクション -->
      <div class="issues-section">
        <app-issue-list [projectId]="project.id || ''"></app-issue-list>
      </div>
    </div>
  </div>
</div> 